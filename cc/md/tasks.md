# План разработки приложения "chess24"


| Модуль  | Сущность  |    Задача      | Issue |  Нормочасы |
----|----------|:----------------|--|-----------:|
| MGMT ||||
||privilege | привилегия на выволнение поинтов|||
|| | 1) modifyAll - рут права|||
|| | 2) viewPlayer - просмотр карточек или картотеки игроков|||
|| | 3) modifyPlayer - редактирование карточек игроков, изменение статуса игроков|||
|| | 4) viewLobby - просмотр карточек или картотеки лобби|||
|| | 5) modifyLobby - модерирование любого лобби|||
|1.1|| - заведение сущности privilege в БД| | 4 |
|1.2|| - создание поинта getPlayerPrivilegesList, h1/h2, kotest| | * |
|1.3|| - доработка поинта createOrUpdatePlayer (передача коллекции привилегий для сохранения в БД), h1/h2, kotest| | 24 |
||player |Игрок|||
|2.1|| - создание поинта updatePlayerPassword [p:modifyPlayer] h1/h2, kotest| | 8 |
|2.2|| - создание поинта getPlayersList [p:viewPlayer] (картотека игроков, h1/h2, kotest, пагинация, поиск по логину, имени, телефону, стране)| | * |
|2.3|| - создание поинта getPlayerCard [p:viewPlayer](карточка игрока, h1/h2, kotest)| | * |
||lobby |Лобби, ("комната"), закрытая или открытая группа игроков|||
|3.1|| - заведение сущности lobby в БД| | * |
|3.2|| - заведение сущности lobby, создание поинта createOrUpdateLobby [p:modifyLobby], h1/h2, kotest| | * |
|3.3|| - создание поинта getLobbiesList [p:viewLobby] (картотека лобби, h1/h2, kotest, пагинация, поиск по логину, имени, телефону, стране)| | * |
|3.4|| - создание поинта getLobbyCard [p:viewLobby] (карточка лобби, h1/h2, kotest)| | * |
|3.5|| - создание поинта updateLobbyStatus [p:modifyLobby] (изменение статуса лобби (лишение игрока лобби, h1/h2, kotest)| | * |
||lobbyMembership | член лобби|||
|4.1|| - заведение сущности lobbyMembership в БД| | * |
|4.2|| - заведение сущности lobbyMembership, создание поинта createOrUpdateLobbyMemberShip [p:владец лобби или модератор лобби] (присвоение или отзыв членства в лобби, h1/h2, kotest| | * |
|4.3|| - создание поинта getLobbyMembershipsList [p:владелец лобби или модератор лобби] (картотека игроков, имеющих членство, h1/h2, kotest, пагинация, поиск по логину, имени)| | * |
||lobbyModeratorship |модератор внутри лобби, помощник владельца лобби, может рассаживать игроков, останавливать игру, присуждать победу, исключать игрока из лобби|||
|5.1|| - заведение сущности lobbyModeratorship в БД| | * |
|5.2|| - заведение сущности lobbyModeratorship, создание поинта createOrUpdateLobbyModeratorship [p:владелец лобби] (присвоение или отзыв членства в лобби, h1/h2, kotest| | * |
|5.3|| - создание поинта getlobbyModeratorshipList [p:владелец лобби] (картотека игроков, имеющих право модераторства в лобби, h1/h2, kotest, пагинация, поиск по логину, имени)| | * |
| AUTH |||||
|6.1|| - доработка поинта выдачи и обновления jwt (для сущности player), "зашивание" привилегий в jwt| | * |
|6.2|| - отзыв действующего jwt, помещение в редис, поиск jwt среди отозванных| | * |
| TASKER ||||
|7.1|| - передача fen позиции для решения| | 8 |
|7.2|| - поиск решения в бд или редисе| | 8 |
|7.3|| - решение fen позиции движком и сохранение в БД| | 8 |
| UI |||||
|8.1|| - логин пользователя приложения (accessJwt, refreshJwt)| | 4 |
|8.2|| - обновление jwt (accessJwt, refreshJwt)| | 24 |
| docker |||||
|9.1|| - Исключить хранение секретных данных в .env, перейти на doscker secrets| | 4 |
| github |||||
|10.1|| - Реализовать создание образов приложений (mgmt, auth) через container registry| | 4 |
| k8s |||||
|11.1|| - Развернуть класте кубернетиса| | 4 |
